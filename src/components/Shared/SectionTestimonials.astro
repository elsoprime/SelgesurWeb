---
import {Search} from '@lucide/astro'
import {mainContentData} from '@/data'
const {testimonials} = mainContentData

// Función para obtener iniciales
function getInitials(name: string) {
  return name
    .split(' ')
    .map(word => word.charAt(0))
    .join('')
    .toUpperCase()
    .slice(0, 2);
}
---
<section
  id='testimonios'
  class='py-20 bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 relative overflow-hidden'
>
  <!-- SVG Background Pattern -->
    <svg
      class='absolute top-0 left-0 w-full h-full opacity-10'
      xmlns='http://www.w3.org/2000/svg'
      preserveAspectRatio='xMidYMid slice'
      fill='none'
      viewBox='0 0 800 600'
      color='#ffffff'
    > 
      <defs>
        <pattern
          id='grid-pattern'
          width='40'
          height='40'
          patternUnits='userSpaceOnUse'
        >
          <path
            d='M 40 0 L 0 0 0 40'
            fill='none'
            stroke='currentColor'
            stroke-width='1'
            stroke-opacity='0.1'
          />
        </pattern>
      </defs>
      <rect width='800' height='600' fill='url(#grid-pattern)' />    


  <div class='relative max-w-7xl mx-auto px-4 text-white'>
    
    <!-- Encabezado existente -->
    <h2 class='text-4xl md:text-5xl lg:text-6xl font-bold text-white mb-8 text-center'>
      <!-- ...código existente del encabezado... -->
       {mainContentData.testimonials.title.rendered}
    </h2>
    <p class='text-gray-300 text-xl md:text-xl lg:text-3xl font-light mb-16 text-center'>
      {mainContentData.testimonials.acf.subtitle}     
    <!-- Grid de Testimonios -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {testimonials.acf.testimonialsList.map((testimonial) => (
        <div class="bg-white/10 backdrop-blur-sm p-6 rounded-xl hover:transform hover:scale-105 transition-all duration-300">
          <!-- Comilla decorativa -->
          <div class="text-5xl text-gray-50 opacity-25 mb-4">"
            <p class="text-center font-bold text-3xl text-shadow-2xs">{testimonial.company}</p>
          </div>
          
          <!-- Contenido del testimonio -->
          <blockquote class="text-gray-300 mb-6">
            {testimonial.content}
          </blockquote>
          
          <!-- Autor del testimonio -->
          <div class="flex items-center">
            <div class="w-12 h-12 rounded-full bg-gradient-to-bl from-sky-500 to-blue-300 flex items-center justify-center text-white font-bold text-xl">
             {getInitials(testimonial.name)}
            </div>
            <div class="ml-4">
              <p class="font-semibold text-white">{testimonial.name}</p>
              <p class="text-xs text-gray-400">{testimonial.position}</p>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>

  <!-- Decorative Circles -->
  <div class="absolute -top-20 -right-20 w-64 h-64 bg-blue-500/10 rounded-full blur-3xl"></div>
  <div class="absolute -bottom-20 -left-20 w-64 h-64 bg-blue-700/10 rounded-full blur-3xl"></div>
</section>

<style>
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }

  .testimonial-card {
    animation: float 6s ease-in-out infinite;
  }
</style>